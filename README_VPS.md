# راهنمای نصب و راه‌اندازی جمع‌کننده داده‌های بیت‌کوین روی VPS

این مخزن شامل ابزارهایی برای جمع‌آوری خودکار داده‌های شبکه بیت‌کوین است. با استفاده از این ابزارها می‌توانید داده‌های مربوط به بلاک‌ها، ممپول، کارمزدها و قیمت بیت‌کوین را جمع‌آوری کنید.

## نیازمندی‌ها

- Linux VPS
- Python 3.6+
- دسترسی به اینترنت برای دریافت داده‌ها از APIها

## نصب

برای نصب و راه‌اندازی سرویس روی VPS، مراحل زیر را دنبال کنید:

1. کد را روی VPS خود کلون کنید یا آپلود کنید.
2. به دایرکتوری پروژه بروید.
3. اسکریپت نصب را اجرا کنید:

```bash
chmod +x setup_vps.sh
./setup_vps.sh
```

این اسکریپت:
- بسته‌های مورد نیاز را نصب می‌کند
- یک محیط مجازی پایتون ایجاد می‌کند
- وابستگی‌های پایتون را نصب می‌کند
- سرویس systemd را تنظیم و راه‌اندازی می‌کند

## استفاده

پس از نصب، سرویس به صورت خودکار شروع به کار می‌کند و داده‌های ۶ ماه اخیر را جمع‌آوری می‌کند.

### بررسی وضعیت سرویس

```bash
sudo systemctl status btc-collector
```

### مشاهده لاگ‌ها

```bash
tail -f logs/collector_*.log
```

### متوقف کردن سرویس

```bash
sudo systemctl stop btc-collector
```

### شروع مجدد سرویس

```bash
sudo systemctl start btc-collector
```

## خروجی داده‌ها

داده‌های جمع‌آوری شده در دایرکتوری `data/` ذخیره می‌شوند. نام فایل شامل بازه زمانی جمع‌آوری داده‌ها است.

## عیب‌یابی

اگر با مشکلی مواجه شدید:

1. لاگ‌ها را بررسی کنید: `tail -f logs/collector_*.log`
2. مطمئن شوید محدودیت API برای سرویس‌های استفاده شده وجود ندارد
3. اگر نیاز به راه‌اندازی مجدد سرویس بود: `sudo systemctl restart btc-collector`

## ویژگی‌ها

- جمع‌آوری خودکار داده‌های ۶ ماه اخیر شبکه بیت‌کوین
- ذخیره‌سازی دوره‌ای برای جلوگیری از از دست دادن داده‌ها در صورت قطع شدن
- راه‌اندازی مجدد خودکار در صورت بروز خطا
- لاگ گیری کامل از فعالیت‌ها

## ساختار پروژه

- `bitcoin_data_collector_v2.py`: کلاس اصلی جمع‌آوری داده‌ها
- `btc_collector_service.py`: اسکریپت راه‌اندازی سرویس
- `btc-collector.service`: فایل تنظیمات systemd
- `setup_vps.sh`: اسکریپت نصب
- `data/`: محل ذخیره داده‌های جمع‌آوری شده
- `logs/`: محل ذخیره لاگ‌ها 